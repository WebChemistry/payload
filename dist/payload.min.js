!function(r,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(r="undefined"!=typeof globalThis?globalThis:r||self).payloadResponse=e()}(this,(function(){"use strict";class r{#r;#e;#s;#t;#o;#i;constructor(r,e,s){if(this.#o=e,this.#i=s,"object"!=typeof r||null===r)throw new Error("Response must be an object.");if("number"!=typeof r.code)throw new Error("Response code must be an number.");if(this.#r=r.code,!Array.isArray(r.meta))throw new Error("Response meta must be an array.");if(this.#e=r.meta,!Array.isArray(r.data))throw new Error("Response data must be an array.");if(this.#s=r.data,!Array.isArray(r.errors))throw new Error("Response errors must be an array.");this.#t=r.errors.map((r=>{if("string"!=typeof r.message)throw new Error("Response error message must be a string.");if("string"!=typeof r.type)throw new Error("Response error type must be a string.");return r})),this.#i.forEach((r=>r.before(this))),this.#n(),this.#i.forEach((r=>r.after(this)))}#n(){this.getCriticalErrors().forEach((r=>{console.error(r.message)})),this.#o.forEach((r=>{this.getClientErrors().forEach((e=>{r(e)}))}))}isSuccess(){return this.#r>=200&&this.#r<300}isError(){return!this.isSuccess()}hasErrors(){return 0!==this.#t.length}hasMeta(r){return void 0!==this.#e[r]}getMeta(r){return this.#e[r]}getData(){return this.#s}getCode(){return this.#r}getClientErrors(){return this.#t.filter((r=>"client"===r.type))}getErrors(){return this.#t}getCriticalErrors(){return this.#t.filter((r=>"critical"===r.type))}}return class{#o=[];#i=[];addExtension(r){this.#i.push(r)}addClientErrorProcessor(r){this.#o.push(r)}async createFetch(e){return new r(await(await e).json(),this.#o,this.#i)}}}));
//# sourceMappingURL=payload.min.js.map
